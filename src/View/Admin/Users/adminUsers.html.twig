{% extends 'layoutAdmin.html.twig' %}

{% block title %}RESOW | Administration | Users{% endblock %}

{% block content %}
<section>
    <div class="modify-user">
        <h1>Edition des utilisateurs</h1>
            <table class="table table-dark table-striped">
                <tbody>
                {% for user in users %}
                    <tr>
                        <td>{{ user.firstname }} | {{ user.lastname }} | {{ user.email }} | Admin : {{ user.is_admin }}</td>
                        <td><a href="/admin/users/delete?id={{user.id}}">Delete</a></td>
                        <td>        
                            <form action="users/update?id={{user.id}}" method="post">
                                <input class="form-check-input" type="checkbox" name="is_admin" value=true id="is_admin">
                                <label class="form-check-label" for="is_admin">Admin</label>
                                <input type="hidden" name="id" value="{{user.id}}">
                                <button type="submit" class="btn btn-primary">UPDATE</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
    </div>
    <div class="add-user">
        <h1>Ajouter un Administrateur</h1>
            <form method="post" action="users/add">
                <div class="mb-3">
                    <label for="firstname" class="form-label">Firstname :</label>
                    <input type="text" name="firstname" class="form-control" id="firstname" aria-describedby="firstname"required>
                </div>
                <div class="mb-3">
                    <label for="lastname" class="form-label">Lastname :</label>
                    <input type="text" name="lastname" class="form-control" id="lastname" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password :</label>
                    <input type="text" name="password" class="form-control" id="password" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">E-mail :</label>
                    <input type="text" name="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3">
                    <input class="form-check-input" type="checkbox" name="is_admin" value=true id="is_admin">
                    <label class="form-label" for="is_admin">Admin : </label>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
    </div>
</section>
{% endblock %}